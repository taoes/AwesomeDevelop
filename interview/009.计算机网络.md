[toc]
## 网络基础

### OSGI 七层网络模型

物理层，数据链路层，网络层，传输层，(会话层)，(表示层)，应用层

## 协议

### HTTP协议
HTTP 1.0规定浏览器与服务器只保持短暂的连接，浏览器的每次请求都需要与服务器建立一个TCP连接，服务器完成请求处理后立即断开TCP连接，服务器不跟踪每个客户也不记录过去的请求。HTTP 1.1则支持持久连接Persistent Connection, 并且默认使用persistent connection. 在同一个tcp的连接中可以传送多个HTTP请求和响应. 多个请求和响应可以重叠，多个请求和响应可以同时进行. 更加多的请求头和响应头(比如HTTP1.0没有host的字段). 在1.0时的会话方式：建立连接、发出请求信息、回送响应信息、关掉连接

HTTPS就是使用SSL/TLS协议进行加密传输，让客户端拿到服务器的公钥，然后客户端随机生成一个对称加密的秘钥，使用公钥加密，传输给服务端，后续的所有信息都通过该对称秘钥进行加密解密，完成整个HTTPS的流程。

### TCP 协议
#### TCP 三次握手

1. 主机A发送位码为syn＝1,随机产生seq number=6的数据包到服务器，主机B由SYN=1知道，A要求建立联机；
2. 主机B收到请求后要确认联机信息，向A发送ack number=(主机A的seq+1),syn=1,ack=1,随机产生seq=7的包
3. 主机A收到后检查ack number是否正确，即第一次发送的seq number+1,以及位码ack是否为1，若正确，主机A会再发送ack number=(主机B的seq+1),ack=1，主机B收到后确认seq值与ack=1则连接建立成功。

> DDOS工具就是在三次挥手的第二部后，客户端不给服务端响应，导致服务端一直等待，可以通过限制半连接的数量的方式以及缩短半连接的超时时间解决



#### TCP 四次握手

1. 客户端A发送一个FIN，用来关闭客户A到服务器B的数据传送。
2. 服务器B收到这个FIN，它发回一个ACK，确认序号为收到的序号加1。和SYN一样，一个FIN将占用一个序号。
3. 服务器B关闭与客户端A的连接，发送一个FIN给客户端A。
4. 客户端A发回ACK报文确认，并将确认序号设置为收到序号加1



+ 常见的基于TCP协议的协议： FTP，SMTP，POP3，HTTP，

### UDP协议

+ 常见的基于UDP协议的协议：DNS ,SNMP,TFTP


## 网站


+ 在浏览器中通过域名访问服务器的过程

1.在浏览器中输入该域名

2. 浏览器通过DNS查找该域名的IP地址
   + 浏览器现在浏览器缓存中查找，（一般默认保存2-30分钟）
   + 如果在浏览器没找到记录，将在系统缓存中查找，windows系统会调用gethostbyname
   + 如果在系统缓存中没找到，会在路由缓存中查找，
   + ISP DNS 缓存 – 接下来要check的就是ISP缓存DNS的服务器。在这一般都能找到相应的缓存记录。
   + 递归搜索 – 你的ISP的DNS服务器从跟域名服务器开始进行递归搜索, 从.com顶级域名服务器到Facebook的	域名服务器
3. 浏览器给web服务器发送一个HTTP请求
4. 服务器响应消息到客服端
5. 浏览器获取到服务端的消息，进行解析，解析成html页面，





### 网络攻击手段

+ DDOS 攻击

+ XXS 攻击

+ CRSF 攻击

  